<!DOCTYPE html>
<head>
   
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
   

   
      <title>Build a Geolocation Weather App in HTML/CSS/JS</title>
   

      

   <title>Geolocation Weather App</title>


      <meta name="description" content="auto-detecting location weather app using APIs">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta property="og:title" content="Geolocation Weather App">
      <meta property="og:description" content="auto-detecting location weather app using APIs">
      <meta property="og:url" content="https://enlight.ml/weather">
      <meta property="og:image" content="https://enlight.ml/img/enlight-round-logo.png" /> 
      <meta name="twitter:card" content="summary" />
      <meta name="twitter:site" content="@tryenlight" />
      <meta name="twitter:title" content="Geolocation Weather App" />
      <meta name="twitter:description" content="auto-detecting location weather app using APIs" />
      <meta name="twitter:image" content="https://enlight.ml/img/enlight-round-logo.png" />

      <link href="style.css" type="stylesheet">

      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" />
      <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700" />
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css" />
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/nprogress/0.2.0/nprogress.css" />
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
      <link rel="stylesheet" href="https://cdn.rawgit.com/timcreative/material-kit/master/assets/css/material-kit.css" />

      <script>
         (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
         (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
         m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
         })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
         
         ga('create', 'UA-85620206-1', 'auto');
         ga('send', 'pageview');
      </script>
</head>
<header>
   <div id="header">
<nav class="navbar navbar-transparent navbar-fixed-top navbar-color-on-scroll" role="navigation">
	<div class="container-fluid">
    	<div class="navbar-header">
    		<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
    		</button>
    		<a class="navbar-brand" href="/">Enlight</a>
    	</div>

    	<div class="collapse navbar-collapse " id="bs-example-navbar-collapse-1">
    		<ul class="nav navbar-nav">

                <li class="dropdown">
                    <a href="/web" class="dropdown-toggle" data-toggle="dropdown">Web Development <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                      <li class><a href="/web">JavaScript</a></li>
                      <li><a href="/nodejs">NodeJS</a></li>
                      <li><a href="/react">React</a></li>
                    <li><a href="/ruby">Ruby</a></li>
                    </ul>
                </li>


                <li class="dropdown">
                    <a href="/web" class="dropdown-toggle" data-toggle="dropdown">Mobile Development <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                      <li><a href="/react-native">React Native (JS)</a></li>
                      <li><a href="/swift">Swift</a></li>
                    </ul>
                </li>

                <li class="dropdown">
                    <a href="/web" class="dropdown-toggle" data-toggle="dropdown"> More <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                      <li><a href="/python">Python</a></li>
                      <li><a href="/cplusplus">C++</a></li>
                    </ul>
                </li>

                <li><a href="https://github.com/samayshamdasani/enlight#contribute-by-adding-your-projects--tutorials">Contribute</a></li>
        		<li><a href="https://blog.enlight.ml">Blog</a></li>
        		<li><a href="/why">Why Enlight?</a></li>
    		</ul>
    		<ul class="nav navbar-nav navbar-right">
    			<li><a href="https://twitter.com/tryenlight"><i class="fa fa-twitter"></i></a></li>
    			<li><a href="https://github.com/samayshamdasani/enlight"><i class="fa fa-github"></i></a></li>
    			<li><a href=""><i class="fa fa-envelope inline"></i></a></li>

    		</ul>
    	</div>
	</div>
</nav>
</div>



</header>
<script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?zoneid=1673&serve=C6AILKT&placement=enlightml" id="_carbonads_js"></script>
<style>
#carbonads {
  display: block;
  overflow: hidden;
  position: absolute;
  top: 100px;
  left: 0;
  padding: 1em;
  font-family: "Avenir Next", Helvetica, sans-serif;
  line-height: 1;
  max-width: 150px;
  background: #fff;
}

  #carbonads span {
    display: block;
    overflow: hidden;
  }

  .carbon-img {
    display: block;
    margin: 0 auto 1em;
    text-align: center;
  }

  .carbon-text {
    display: block;
    margin-bottom: 1em;
    text-align: left;
    max-width: 200px;
  }

  .carbon-poweredby {
    display: block;
    text-align: right;
    font-size: .8em;
  }

  @media only screen and (min-width: 320px) and (max-width: 1279px) {
  #carbonads {
    position: relative;
    margin: 6em auto 2em;
    top: 0px;
  }
  #carbonads img {
    padding: 0;
  }

}

</style> 
<body>
   <div class="project-header">
      <h1 class="project-title"> Build a <span class="underline">Geolocation Weather App</span></h1>
      <h3 class="project-description"> auto-detecting location weather app using APIs</h3>
      <a href="/demo/weather-project/index.html"><img class="project-image" src="/img/weather.gif"></a>


      <div class="buttons">
         <a href="https://github.com/samayshamdasani/enlight/tree/gh-pages/demo/weather-project"><button class="project-button">Source</button></a>
         <a href="/demo/weather-project/index.html"><button class="project-button">Demo</button></a>
         <a href="#start"><button class="project-button">Start Coding!</button></a>
      </div>




   </div>
   <div id="start"></div>
   <div class="project-editor" id="project-editor" style="margin-top:10px">
   <div class="content code-content">
      <a href="https://twitter.com/share" class="twitter-share-button" data-size="large" data-via="tryenlight" data-show-count="false">Tweet</a><script async src="//platform.twitter.com/widgets.js" charset="utf-8" style="max-width: 60%; margin: 0 auto;"> </script>	
      <h3 id="getting-started">Getting Started</h3>
<p>This weather app tutorial will use <a href="https://developer.mozilla.org/en-US/docs/Web/API/Geolocation/Using_geolocation" class="underline">HTML geolocation</a> to auto-detect the user’s latitude and longitude and then will use those coordinates to determine the weather using the <a href="https://darksky.net/dev/docs" class="underline">Dark Sky API.</a> Before we start, you must sign up for your <a href="https://darksky.net/dev/register" class="underline">API key over at Dark Sky</a>. Once you sign up and reach to your console, take note of your API key. Just for your information, this API is free for up to 1,000 requests/day.</p>

<p>Now that we have our API key, we can create our files:</p>

<ul>
  <li>index.html - for our markup</li>
  <li>style.css - for styling</li>
  <li>app.js - for the function(s), API</li>
</ul>

<p>As you probably saw in the preview above, we’re going to be displaying the current temperature, a short summary, and the coordinates based on the user’s location. That’s why we’ll need three divs in addition to adding the jQuery CDN (for the API request) and linking our style.css and app.js files.</p>

<pre class="prettyprint"><xmp>
  <html>
     <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="stylesheet" href="style.css" />
        <title> Weather </title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
     </head>

     <body>
        <h1><div id="temp"></div><div id="minutely"></div></h1>
        <h2><div id="location"></div></h2>
     </body>
     <script src="app.js"></script>
  </html> 
  </xmp></pre>

<h3 id="the-weather-function">The weather() function</h3>
<p>Our JS file will be centered around <a href="https://developer.mozilla.org/en-US/docs/Web/API/Geolocation/Using_geolocation" class="underline">HTML’s geolocation.</a></p>

<p>This is what we need to incorporate:</p>

<ul>
  <li>set the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/getElementById" class="underline">location div to a variable</a></li>
  <li>set the API key and the url(https://api.forecast.io/forecast/) equal to variables.</li>
  <li>write the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Geolocation/getCurrentPosition" class="underline">geolocation.getCurrentPosition</a> method with the parameters (success, error)</li>
  <li>write the success function consisting of the following:
    <ul>
      <li>set the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Geolocation/Using_geolocation" class="underline">position.coords.latitude and position.coords.longitude</a> to their own variables</li>
      <li>use the location div’s variable to display the latitude and longitude for the location</li>
      <li>use the <a href="http://api.jquery.com/jquery.getjson/" class="underline">$.getJSON jQuery method</a> to make a request to the weather API url</li>
      <li>set the temp and daily div values to the data.currently.temperature and data.minutely.summary <a href="https://darksky.net/dev/docs" class="underline">(docs on weather API request) </a></li>
    </ul>
  </li>
  <li>write an error function to tell the user that the location could not be retrieved</li>
  <li>set the location div’s value to “Locating…”</li>
  <li>call the weather() function</li>
</ul>

<pre class="prettyprint">

  function weather() {

    var location = document.getElementById("location");
    var apiKey = 'INSERT API KEY'; 
    var url = 'https://api.forecast.io/forecast/';

    navigator.geolocation.getCurrentPosition(success, error);

    function success(position) {
      latitude = position.coords.latitude;
      longitude = position.coords.longitude;

      location.innerHTML = 'Latitude is ' + latitude + '° Longitude is ' + longitude + '°';

       $.getJSON(url + apiKey + "/" + latitude + "," + longitude + "?callback=?", function(data) {
        $('#temp').html(data.currently.temperature + '° F');
        $('#minutely').html(data.minutely.summary);
      });
    }

    function error() {
      location.innerHTML = "Unable to retrieve your location";
    }

    location.innerHTML = "Locating...";
  }

  weather();


</pre>

<p>There you have it! We now have a functional weather app :)</p>

<h3 id="some-styling">Some styling</h3>

<p>Here’s my take on some basic centering and font changes in CSS. Feel free to style the page to your liking.</p>

<pre class="prettyprint">
  html {
    font-family: "Avenir Next", Helevetica, sans-serif;
    text-align: center;
  }

  body {
    margin: 0 auto;
  } 

  h1, h2 {
    font-weight: 300;
  }
</pre>

<p>I encourage you to try to explore more with the world of APIs. You can build a <a href="/quote.html" class="underline">Quote Generator</a> that uses a quote API, or you could even further advance this project by adding more weather details from the <a href="https://darksky.net/dev/docs" class="underline">Dark Sky API! </a></p>


   </div>


   <div class="editor" id="editor">
      <button class="project-button" onclick="exitEditorView()">Exit Editor View</button>
      <h2 style="text-align: center;"> Write your code here!</h2>


      <textarea id="html" placeholder="HTML"></textarea>
      <textarea id="css" placeholder="CSS"></textarea>
      <textarea id="js" placeholder="JavaScript"></textarea>
      <iframe id="code-iframe"></iframe>
  
   </div>
   </div>
   <div id="disqus_thread" style="padding: 5%;"></div>
   <script>
      /**
      *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
      *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
      /*
      var disqus_config = function () {
      this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
      this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
      };
      */
      (function() { // DON'T EDIT BELOW THIS LINE
      var d = document, s = d.createElement('script');
      s.src = '//enlight-2.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
      })();
   </script>
   <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
   <br><br>
   
   <footer>
      <form method="post" action="//enlight.us11.list-manage.com/subscribe/post?u=c28720fd0200ee7eef0e3e9ec&amp;id=1905fa696f" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="form">
         <h3> Get the latest projects delivered to your inbox!</h3>
         <input id="email" type="email" name="EMAIL" placeholder="Email">
         <button type="submit" name="action" class="footer-button">Subscribe!</button>
      </form>

    <div class="s-footer">
      <a href="https://twitter.com/share" class="twitter-share-button" data-show-count="false" data-size="large">Tweet</a><script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>

      <a href="https://twitter.com/tryenlight" class="twitter-follow-button" data-size="large" data-show-count="false">Follow @tryenlight</a><script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
    </div>
 </footer>

<!--  FIX FOOTER, ADD TWEET BUTTON, & FOLLOW -->
   <style>
    /* Header */
    
    #header .navbar.navbar-fixed-top.navbar-color-on-scroll.navbar-transparent {
        background: transparent;
        color: #333;
    }
    #header .navbar.navbar-fixed-top.navbar-color-on-scroll {
        background: #031927;
    }
    #header .navbar-brand {
        font-size: 36px;
        font-family: "Avenir Next", "Roboto", sans-serif;
        color: #E91E63;
    }
    #header li {
        letter-spacing: 1px;
    }
    #header li a {
        font-size: 12px;
    }
    #header .dropdown-menu > li > a:hover,
    .dropdown-menu > li > a:focus {
        background: #031927;
        opacity: 1;
    }
    /* General */
    
    body {
        margin-top: 100px;
        background-color: #fff;
        color: #333;

    }
    #nprogress .bar {
        background: #031927;
    }
    a {
        color: inherit;
    }
    .content a:hover {
        color: inherit;
        text-decoration: none;
        opacity: .7;
    }
    .content a {
        border-bottom: 1px solid #E91E63;
    }
    .content a:hover {
        border-bottom: none;
    }
    *::selection {
        background: #FCE4EC;
    }
    *::-moz-selection {
        background: #FCE4EC;
    }
    button {
        outline: 0;
        background: #E91E63;
        border: 0;
        padding: 15px;
        color: #FFFFFF;
        font-size: 16px;
        -webkit-transition: all 0.3 ease;
        transition: all 0.3 ease;
        cursor: pointer;
        font-family: "Avenir Next", "Roboto", Helvetica, Arial, sans-serif;
    }
    /* Frontpage */
    
    .grid {
        margin-top: 5%;
        max-width: 75%;
        margin: 0 auto;
    }
    .grid .col-sm-4 {
        position: relative;
        padding: 5px;
    }
    .card {
        height: 325px;
        width: 400px;
        background-position: center;
        background-repeat: none;
        margin: 5px;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);
        transition: all 0.3s ease;
    }
    .card:hover {
        box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);
    }
    .card img {
        -webkit-background-size: auto 100%;
        -moz-background-size: auto 100%;
        -o-background-size: auto 100%;
        background-size: auto 100%;
    }
    h3.project-title-front {
        position: absolute;
        bottom: 5%;
        left: 5%;
        width: 100%;
    }
    h3.project-title-front span {
        color: white;
        background: #E91E63;
        padding: 10px;
        border-radius: 2px;
    }
    h3.project-language {
        position: absolute;
        top: 10px;
        right: 15px;
        font-size: 14px;
    }
    h3.project-language span {
        color: white;
        background: #E91E63;
        padding: 2px;
        border-radius: 2px;
    }
    /* Project Page */
    
    .project-header {
        max-width: 60%;
        margin: 0 auto;
    }
    h1.project-title,
    h3.project-title {
        text-align: center;
        padding: 0;
        margin: 0;
    }
    h3.project-description {
        text-align: center;
        padding: 0;
        margin-bottom: 2%;
    }
    img.project-image {
        display: block;
        margin-left: auto;
        margin-right: auto;
    }
    .buttons {
        text-align: center;

    }
    .project-button {
        margin-top: 2%;
        margin-right: 2%;
        font-size: 20px;
    }
    .project-button:hover {
        outline: 1px solid #E91E63;
        background: #fff;
        color: #E91E63;
    }
    p,
    li {
        font-size: 18px;
        line-height: 1.5;
    }
    .content {
        margin-bottom: 2%;
    }
    /* If post.layout === editor */
    
    @media(min-width: 960px) {


        .project-editor {
            overflow-x: hidden;
            display: flex;
            overflow: hidden;
            height: 100vh;
            margin-top: -100px;
            padding-top: 100px;
            position: relative;
            width: 100%;
            backface-visibility: hidden;
            will-change: overflow;
        }

        .code-content::-webkit-scrollbar{
            display: none;
        }


        .code-content, .editor {
            overflow: auto;
            height: auto;
            padding: .5rem;
            -webkit-overflow-scrolling: touch;
            -ms-overflow-style: none;
        }

        .code-content {
            flex: 1;
        }

        .editor {
            flex: 1;
             
        }

        textarea {
          width: 95%;
          float: top;
          min-height: 150px;
          overflow: scroll;
          display: inline-block;
          outline: none;
          font-family: Courier, sans-serif;
          font-size: 14px;
          margin-left: auto;
          margin-right: auto;
        }

        iframe {
          width: 95%;
          height: 25em;
        }

        .editor .project-button {
            margin-left: auto;
            display: flex;
        }

            /* If exited editor */
        .content-exit {
            max-width: 60%;
            margin: 0 auto;
        }

        /* If embeded editor */

        .embedded-compiler {
            width: 48%;
        }

    }



    @media(max-width: 760px) {
        .card {
            width: 100%;
        }
        #header .navbar.navbar-fixed-top.navbar-color-on-scroll.navbar-transparent {
            background: #031927;
            color: #fff;
        }
        h1,
        h2,
        p {
            padding: 10px;
        }
        .grid {
            max-width: 90%;
        }
        .project {
            max-width: 95%;
        }
    }
    footer {
        width: 100%;
        background: #031927;
        color: #fff;
        margin-top: 5%;
        text-align: center;
    }
    .footer-button {
        font-size: 16px;
        border-radius: 5px;
        width: 8em;
    }
    .footer-button:hover {
        opacity: .8;
    }
    footer .form-control {
        max-width: 30em;
        margin: auto;
    }
    input {
        outline: 0;
        background: #354652;
        border: 0;
        padding: 15px;
        box-sizing: border-box;
        font-size: 16px;
        width: 350px;
        font-family: "Avenir Next", Helvetica, Arial, sans-serif;
        margin-top: 10px;
        margin-right: 10px;
        color: #fff;
    }
    .s-footer {
        margin-top: 2%;
    }
    .fa-twitter:hover {
        color: #1dcaff;
    }
    .fa-github:hover {
        color: #6e5494;
    }
    .fa-envelope:hover {
        color: #bd2c00;
    }
    /*! Color themes for Google Code Prettify | MIT License | github.com/jmblog/color-themes-for-google-code-prettify */
    
    .prettyprint {
        background: #031927;
        font-family: Menlo, "Bitstream Vera Sans Mono", "DejaVu Sans Mono", Monaco, Consolas, monospace;
        border: 0 !important;
        border-radius: 0;
        width: 100% !important;
        margin-top: 3%;
        margin-bottom: 3%;
    }
    .pln {
        color: #e6e9ed;
    }
    /* Specify class=linenums on a pre to get line numbering */
    
    ol.linenums {
        margin-top: 0;
        margin-bottom: 0;
        color: #656d78;
    }
    li.L0,
    li.L1,
    li.L2,
    li.L3,
    li.L4,
    li.L5,
    li.L6,
    li.L7,
    li.L8,
    li.L9 {
        padding-left: 1em;
        background-color: #2f3640;
        list-style-type: decimal;
    }
    @media screen {
        /* string content */
        
        .str {
            color: #ffce54;
        }
        /* keyword */
        
        .kwd {
            color: #4fc1e9;
        }
        /* comment */
        
        .com {
            color: #656d78;
        }
        /* type name */
        
        .typ {
            color: #4fc1e9;
        }
        /* literal value */
        
        .lit {
            color: #ac92ec;
        }
        /* punctuation */
        
        .pun {
            color: #e6e9ed;
        }
        /* lisp open bracket */
        
        .opn {
            color: #e6e9ed;
        }
        /* lisp close bracket */
        
        .clo {
            color: #e6e9ed;
        }
        /* markup tag name */
        
        .tag {
            color: #ed5565;
        }
        /* markup attribute name */
        
        .atn {
            color: #a0d468;
        }
        /* markup attribute value */
        
        .atv {
            color: #ffce54;
        }
        /* declaration */
        
        .dec {
            color: #ac92ec;
        }
        /* variable name */
        
        .var {
            color: #e6e9ed;
        }
        /* function name */
        
        .fun {
            color: #e6e9ed;
        }
    }
</style>
   <script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha256-/SIrNqv8h6QGKDuNoLGA4iret+kyesCkHGzVUUV0shc="crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<script src="/js/material-kit.js"></script>
<script src="/js/editor.js"></script>
<script src="https://cdn.rawgit.com/timcreative/material-kit/master/assets/js/material.min.js"></script>
<script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/nprogress/0.2.0/nprogress.js"></script>
<script type="text/javascript"> 
   NProgress.configure({ 
   	showSpinner: true
    });
   NProgress.start();   
   NProgress.done();
</script>

</body>
</html>